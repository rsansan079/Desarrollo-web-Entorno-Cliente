<!DOCTYPE html>
<html lang="es">

<style>
  input:required:invalid {
    border: 1px solid red;
  }

  input:required:valid {
    border: 1px solid green;
  }
</style>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Solicitud de Baja de Vehículos</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">




</head>

<body>
  <div class="container mt-5">
    <h1>Solicitud de baja de vehículos</h1>
    <br>
    <h2>Datos del Vehículo:</h2>
    <form >
      <div class="form-row">
        <div class="col md-4 mb-3">
          <label for="matricula">Matricula:</label>
          <input type="text" class="form-control" id="matricula" name="matricula"
            pattern="^[0-9]{4}[BCDFGHJKLMNPQRSTVWXYZ]{3}$" required>
        </div>
        <div class="col md-3 mb-3">
          <label for="floatingInput">Fecha de Matriculación:</label>
          <br>
          <input type="date" class="form-control" id="fecha" required>
        </div>
        <div class="col md-3 mb-3">
          <label for="floatingInput">6 últimos dígitos(n bastidor):</label>
          <br>
          <input type="text" class="form-control" id="bastidor" pattern="^[0-9]{6}$" required>
        </div>
      </div>

      <br>
      <h2>Datos del títular</h2>

      <div class="form-row">
        <div class="col md-3 mb-4">
          <label for="floatingInput">Nombre:</label>
          <br>
          <input type="text" class="form-control" id="nombre" name="nombre" required>
        </div>
        <div class="col md-3 mb-4">
          <label for="floatingInput">Apellidos:</label>
          <br>
          <input type="text" class="form-control" id="apellidos" name="apellidos"required>
        </div>
        <div class="col md-3 mb-4">
          <label for="floatingInput">Domicilio:</label>
          <br>
          <input type="text" class="form-control" id="domicilio" name="domicilio" required>
        </div>
      </div>



      <div class="form-row">
        <div class="col md-4 mb-3">
          <label for="dni" id="dniLabel">DNI:</label>
          <input type="text" class="form-control" id="dni" name="dni" pattern="^[0-9]{8}[A-Z]$" required>
        </div>
        <div class="col md-4 mb-3">
          <label for="floatingInput">Correo Electrónico:</label>
          <br>
          <input type="email" class="form-control" id="correo" name="correo"pattern="^[a-zA-Z]+@[a-zA-Z]+\.(com|es)$" required>
        </div>
        <div class="col md-4 mb-3">
          <label for="floatingInput">Tlf:</label>
          <br>
          <input type="text" class="form-control" id="tlf" name="tlf" pattern="^[0-9]{9}$" required>
        </div>

        <div class="form-group">
          <label>Tipo de baja:</label>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="tipoBaja" id="temporal" value="Temporal" required>
            <label class="form-check-label" for="temporal">Temporal</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="tipoBaja" id="definitiva" value="Definitiva" required>
            <label class="form-check-label" for="definitiva">Definitiva</label>
          </div>
        </div>
      </div>
      <button class="btn btn-primary" type="submit">Enviar</button>
  </div>
  </form>



  <script>
    // Definición de la clase Vehiculo
    class Vehiculo {
      constructor(matricula) {
        this.matricula = matricula;

      }

      // Método para validar la matrícula
      validateMatricula() {
        if (this.matricula.validity.patternMismatch) {
          this.matricula.setCustomValidity("Formato de matrícula inválido. Debe tener 4 dígitos seguidos de 3 letras sin vocales.");
        } else {
          this.matricula.setCustomValidity(""); // Restablece el mensaje si el valor es valido
        }
      }
    }

    let vehiculo = new Vehiculo(matriculaInput);
    matriculaInput.addEventListener('input', () => vehiculo.validateMatricula());

      
    class Propietario {
            constructor(dni) {
                this.dni = dni;
            }
            //Cambiar el texto de la etiqueta DNI 
            cambiarTextoDni() {
                let dniInput = document.getElementById('dni');
                let dniLabel = document.getElementById('dniLabel');
                
                // cambiar el texto cuando el campo recibe el foco
                dniInput.addEventListener('focus', function () {
                    dniLabel.textContent = 'Editando DNI...';
                });

                //  texto original 
                dniInput.addEventListener('blur', function () {
                    dniLabel.textContent = 'DNI';
                });
            }
        }
 // instancias de la clase propietario
        let propietario = new Propietario(dniInput);
        propietario.cambiarTextoDni();
  </script>
</body>



</html>